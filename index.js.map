{"version":3,"file":"index.js","mappings":"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","sources":["webpack://cf-search/./src/scripts/index.js"],"sourcesContent":["(async function () {\n\t// I'm assuming this is safe b/c ferium does the same thing ¯\\_(ツ)_/¯\n\t// https://github.com/gorilla-devs/ferium/blob/f9bf7906fde4938255bd4e9d95a680ac5646c0b4/src/main.rs#L95\n\tconst API_KEY = \"$2a$10$3kFa9lBWciEK.lsp7NyCSupZ3XmlAYixZQ9fTczqsz1/.W9QDnLUy\";\n\tconst GAME_ID = 432;\n\tconst MODLOADERS = [\"Any\", \"Forge\", \"Cauldron\", \"LiteLoader\", \"Fabric\", \"Quilt\"].map((v, i) => [\n\t\tv,\n\t\ti,\n\t]);\n\tconst SORT_FIELDS = [\n\t\t\"Featured\",\n\t\t\"Popularity\",\n\t\t\"Last Updated\",\n\t\t\"Name\",\n\t\t\"Author\",\n\t\t\"Total Downloads\",\n\t\t\"Category\",\n\t\t\"Game Version\",\n\t].map((v, i) => [v, i + 1]);\n\tconst SORT_ORDERS = [\"asc\", \"desc\"].map((v) => [v, v]);\n\n\tlet by_id = document.getElementById.bind(document);\n\tlet search_form = by_id(\"search-form\");\n\tlet classes_el = by_id(\"classes\");\n\tlet categories_el = by_id(\"categories\");\n\tlet modloader_el = by_id(\"modloader\");\n\tlet version_el = by_id(\"version\");\n\tlet sub_version_el = by_id(\"sub-version\");\n\tlet sort_field_el = by_id(\"sort-field\");\n\tlet sort_order_el = by_id(\"sort-order\");\n\tlet results_el = by_id(\"results\");\n\tlet page_size_el = by_id(\"page-size\");\n\tlet page_els = document.getElementsByClassName(\"page\");\n\tlet loading_indicator = by_id(\"loading-indicator\");\n\tlet reset_button = by_id(\"reset\");\n\tlet filters_el = by_id(\"filters\");\n\n\tlet search_results;\n\tlet page = 0;\n\t// avoid triggering update_results when you trigger change event programmatically\n\t// (in order to populate dropdowns for prefill and defai;t)\n\tlet should_update = false;\n\t// prevent double update_results with an AbortController\n\tlet current_ac = null;\n\tlet current_updating_event = \"\";\n\n\t/* utility functions */\n\n\t// https://stackoverflow.com/a/34890276\n\tfunction group_by(xs, key) {\n\t\treturn xs.reduce(function (rv, x) {\n\t\t\t(rv[x[key]] = rv[x[key]] || []).push(x);\n\t\t\treturn rv;\n\t\t}, {});\n\t}\n\n\t// https://stackoverflow.com/a/50636286\n\tfunction partition(array, filter) {\n\t\tlet pass = [],\n\t\t\tfail = [];\n\t\tarray.forEach((e, idx, arr) => (filter(e, idx, arr) ? pass : fail).push(e));\n\t\treturn [pass, fail];\n\t}\n\n\t// based on https://stackoverflow.com/a/4499062\n\tfunction human_readable(number) {\n\t\tif (number < 1000) {\n\t\t\treturn number.toString();\n\t\t} else if (number < 1000 * 1000) {\n\t\t\treturn (number / 1000).toFixed(1) + \"K\";\n\t\t} else {\n\t\t\treturn (number / 1000 / 1000).toFixed(1) + \"M\";\n\t\t}\n\t}\n\n\tfunction natural_sort(array) {\n\t\treturn array.sort((a, b) => a.name.localeCompare(b.name, undefined, { numeric: true }));\n\t}\n\n\tfunction format_categories(array, class_id) {\n\t\tlet subcategories = group_by(array, \"parentCategoryId\");\n\t\tlet top_level = subcategories[class_id];\n\t\tdelete subcategories[class_id];\n\n\t\ttop_level.sort((a, b) => a.name.localeCompare(b.name, undefined, { numeric: true }));\n\n\t\tfor (let [id, subcategory] of Object.entries(subcategories)) {\n\t\t\tid = parseInt(id, 10);\n\t\t\tsubcategory.sort((a, b) => a.name.localeCompare(b.name, undefined, { numeric: true }));\n\t\t\tsubcategory.forEach((x) => {\n\t\t\t\tx.name = \" └ \" + x.name;\n\t\t\t});\n\n\t\t\t// insert subcategories below top level category\n\t\t\tlet i = top_level.findIndex((x) => x.id === id);\n\t\t\ttop_level.splice(i + 1, 0, ...subcategory);\n\t\t}\n\t\treturn top_level;\n\t}\n\n\tfunction sort_vers(versions) {\n\t\treturn versions\n\t\t\t.filter((x) => x.name.startsWith(\"Minecraft\")) //TODO figure out why other versions don't work and remove this temp fix\n\t\t\t.sort((a, b) => {\n\t\t\t\ta = a.name;\n\t\t\t\tb = b.name;\n\t\t\t\tif (a.startsWith(\"Minecraft\")) {\n\t\t\t\t\tif (b.startsWith(\"Minecraft\")) {\n\t\t\t\t\t\tif (a === \"Minecraft Beta\") {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t} else if (b === \"Minecraft Beta\") {\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn -a.localeCompare(b, undefined, { numeric: true });\n\t\t\t\t\t}\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\tif (b.startsWith(\"Minecraft\")) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\treturn a.localeCompare(b, undefined, { numeric: true });\n\t\t\t});\n\t}\n\n\tfunction sort_subvers(subvers) {\n\t\treturn subvers.sort((a, b) => {\n\t\t\tif (a.endsWith(\"Snapshot\")) {\n\t\t\t\treturn 1;\n\t\t\t} else if (b.endsWith(\"Snapshot\")) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn -a.localeCompare(b, undefined, { numeric: true });\n\t\t});\n\t}\n\n\tasync function cf_api(endpoint, params, additional_args) {\n\t\tif (typeof params === \"object\" && !(params instanceof URLSearchParams)) {\n\t\t\tparams = new URLSearchParams(params);\n\t\t} else if (params == undefined) {\n\t\t\tparams = \"\";\n\t\t}\n\n\t\tif (endpoint.startsWith(\"/\")) {\n\t\t\tendpoint = endpoint.slice(1);\n\t\t}\n\n\t\treturn fetch(\"https://api.curseforge.com/\" + endpoint + \"?\" + params, {\n\t\t\theaders: { \"x-api-key\": API_KEY, accept: \"application/json\" },\n\t\t\t...additional_args,\n\t\t})\n\t\t\t.then((resp) => resp.json())\n\t\t\t.then((json) => json.data);\n\t}\n\n\tfunction populate_dropdown(dropdown, values, defaultValue) {\n\t\tdropdown.innerHTML = \"\";\n\t\tlet fragment = document.createDocumentFragment();\n\n\t\tfor (let [name, value] of values) {\n\t\t\tlet option = document.createElement(\"option\");\n\t\t\toption.value = value;\n\t\t\toption.textContent = name;\n\t\t\tfragment.appendChild(option);\n\t\t}\n\n\t\tdropdown.appendChild(fragment);\n\n\t\tif (defaultValue == undefined) {\n\t\t\t// if no default value is specified, create a default option with the category name\n\t\t\t// based on https://stackoverflow.com/a/8442831\n\t\t\tlet defaultOption = document.createElement(\"option\");\n\t\t\tdefaultOption.value = \"\";\n\t\t\tdefaultOption.selected = true;\n\t\t\tdefaultOption.textContent = dropdown.dataset.name;\n\t\t\tdropdown.dataset.default = \"\";\n\t\t\tdropdown.prepend(defaultOption);\n\t\t} else {\n\t\t\t// otherwise, select the corresponding <option>\n\t\t\tlet option = Array.from(dropdown.options).find((x) => x.textContent === defaultValue);\n\t\t\tdropdown.dataset.default = option.value;\n\t\t\toption.selected = true;\n\t\t\tdropdown.dispatchEvent(new Event(\"change\"));\n\t\t}\n\t}\n\t/* handle visual filters */\n\tfunction populate_filters(categories) {\n\t\tfilters_el.innerHTML = \"\";\n\t\tlet fragment = document.createDocumentFragment();\n\n\t\tfor (let [category, id] of categories) {\n\t\t\tlet el = document.createElement(\"label\");\n\n\t\t\tlet checkbox = document.createElement(\"input\");\n\t\t\tcheckbox.type = \"checkbox\";\n\t\t\tcheckbox.name = category;\n\t\t\tcheckbox.value = id;\n\n\t\t\tcheckbox.addEventListener(\"change\", function (event) {\n\t\t\t\t// custom checkbox behavior for filters\n\t\t\t\t// cycle from off, include, exclude\n\t\t\t\tlet el = event.target;\n\t\t\t\tif (!el.dataset.value || el.dataset.value === \"off\") {\n\t\t\t\t\t// off -> include\n\t\t\t\t\tel.checked = true;\n\t\t\t\t\tel.indeterminate = false;\n\t\t\t\t\tel.dataset.value = \"include\";\n\t\t\t\t} else if (el.dataset.value === \"include\") {\n\t\t\t\t\t// include -> exclude\n\t\t\t\t\tel.indeterminate = true;\n\t\t\t\t\tel.checked = true;\n\t\t\t\t\tel.dataset.value = \"exclude\";\n\t\t\t\t} else {\n\t\t\t\t\t// exclude -> off\n\t\t\t\t\tel.checked = false;\n\t\t\t\t\tel.indeterminate = false;\n\t\t\t\t\tel.dataset.value = \"off\";\n\t\t\t\t}\n\n\t\t\t\t// handle filtering\n\t\t\t\tlet params = new URLSearchParams(window.location.search);\n\t\t\t\tlet [include, exclude] = get_active_filters();\n\n\t\t\t\tparams.set(\"filtersInclude\", include.join(\",\"));\n\t\t\t\tparams.set(\"filtersExclude\", exclude.join(\",\"));\n\t\t\t\thistory.pushState({}, \"\", \"?\" + params);\n\n\t\t\t\tresults_el.innerHTML = \"\";\n\t\t\t\t// setTimeout to avoid delay in checkbox visual update for large lists\n\t\t\t\tsetTimeout(() => populate_results(search_results), 0);\n\t\t\t});\n\n\t\t\tlet label = document.createTextNode(category);\n\n\t\t\tel.append(checkbox, label);\n\t\t\tfragment.appendChild(el);\n\t\t}\n\n\t\tfilters_el.appendChild(fragment);\n\t}\n\tfunction get_active_filters() {\n\t\tlet filters = Array.from(filters_el.elements).filter((x) => x.checked);\n\t\tlet [include, exclude] = partition(filters, (x) => x.dataset.value === \"include\");\n\t\treturn [\n\t\t\tinclude.map((x) => parseInt(x.value, 10)),\n\t\t\texclude.map((x) => parseInt(x.value, 10)),\n\t\t];\n\t}\n\n\tfunction filter_results(results, include, exclude) {\n\t\t// handle includes\n\t\tif (include.length > 0) {\n\t\t\tresults = results.filter((result) =>\n\t\t\t\tinclude.every((id) => result.categories.find((category) => category.id == id))\n\t\t\t);\n\t\t}\n\n\t\t//handle excludes\n\t\tif (exclude.length > 0) {\n\t\t\tresults = results.filter((result) =>\n\t\t\t\tresult.categories.every((category) => !exclude.includes(category.id))\n\t\t\t);\n\t\t}\n\n\t\treturn results;\n\t}\n\n\t/* fetch dropdown values from CF API */\n\tasync function fetch_categories() {\n\t\tlet categories = await cf_api(\"/v1/categories\", { gameId: GAME_ID });\n\t\tcategories = group_by(categories, \"classId\");\n\n\t\tlet classes = natural_sort(categories[undefined]);\n\t\tdelete categories[undefined];\n\n\t\t// ignore bukkit plugins, customizations, addons\n\t\t// API doesn't work and I don't feel like figuring out why\n\t\tlet brokenClasses = [5, 4546, 4559, 4979];\n\t\tfor (let id of brokenClasses) {\n\t\t\tdelete categories[id];\n\t\t}\n\t\tclasses = classes.filter((x) => !brokenClasses.includes(x.id));\n\n\t\t// format categories\n\t\tfor (let class_ in categories) {\n\t\t\tcategories[class_] = format_categories(categories[class_], class_);\n\t\t}\n\n\t\t// ignore Fabric, FancyMenu, QoL, Vanilla+ tags\n\t\t// these tags don't exist anymore, idk why they're still in the API\n\t\tlet brokenModCategories = [5192, 4780, 5190, 5129];\n\t\tcategories[6] = categories[6].filter((x) => !brokenModCategories.includes(x.id));\n\t\treturn [classes, categories];\n\t}\n\n\tasync function fetch_vers() {\n\t\treturn sort_vers(await cf_api(`/v1/games/${GAME_ID}/version-types`));\n\t}\n\n\tfunction fetch_subvers() {\n\t\treturn cf_api(`/v1/games/${GAME_ID}/versions`);\n\t}\n\n\t// fetch in parallel and cache\n\tlet cache_time = localStorage.getItem(\"cache_time\");\n\tlet now = Date.now();\n\tlet classes, categories, versions, sub_versions;\n\tif (!cache_time || now - cache_time > 24 * 60 * 60 * 1000) {\n\t\tlet result = await Promise.all([fetch_categories(), fetch_vers(), fetch_subvers()]);\n\t\t[[classes, categories], versions, sub_versions] = result;\n\t\tlocalStorage.setItem(\"cache\", JSON.stringify(result));\n\t\tlocalStorage.setItem(\"cache_time\", now);\n\t} else {\n\t\t[[classes, categories], versions, sub_versions] = JSON.parse(localStorage.getItem(\"cache\"));\n\t}\n\n\t/* populate dropdowns */\n\n\t// categories\n\tpopulate_dropdown(categories_el, []);\n\n\tclasses_el.addEventListener(\"change\", function () {\n\t\tupdate_modloader();\n\n\t\tlet class_ = classes_el.value;\n\n\t\tlet categories2 = categories[class_].map((category) => [category.name, category.id]);\n\t\tpopulate_dropdown(categories_el, categories2);\n\t\tpopulate_filters(categories2);\n\t});\n\n\t// classes\n\tpopulate_dropdown(\n\t\tclasses_el,\n\t\tclasses.map((x) => [x.name, x.id]),\n\t\t\"Mods\"\n\t);\n\n\t// modloaders\n\tpopulate_dropdown(modloader_el, MODLOADERS, \"Any\");\n\n\tsub_version_el.addEventListener(\"change\", function () {\n\t\tupdate_modloader();\n\t});\n\n\tfunction disable_modloader() {\n\t\tmodloader_el.title = modloader_el.dataset.title;\n\t\tmodloader_el.disabled = true;\n\t}\n\n\tfunction enable_modloader() {\n\t\tmodloader_el.title = \"\";\n\t\tmodloader_el.disabled = false;\n\t}\n\n\tfunction update_modloader() {\n\t\tif (classes_el.value === \"6\" && sub_version_el.value !== \"\") {\n\t\t\t// if mods is selected and a subver is selected,\n\t\t\t// enable the modloader dropdown\n\t\t\tenable_modloader();\n\t\t} else {\n\t\t\tdisable_modloader();\n\t\t}\n\t}\n\t// versions\n\tpopulate_dropdown(\n\t\tversion_el,\n\t\tversions.map((version) => [version.name, version.id])\n\t);\n\n\t// sub versions\n\tpopulate_dropdown(sub_version_el, []);\n\n\tversion_el.addEventListener(\"change\", function () {\n\t\tlet val = version_el.value;\n\n\t\t// reset subvers dropdown if version was deselected\n\t\tif (val === \"\") {\n\t\t\tpopulate_dropdown(sub_version_el, []);\n\t\t\treturn;\n\t\t}\n\n\t\tlet version = parseInt(val, 10);\n\n\t\tlet subvers = sort_subvers(sub_versions.find((x) => x.type === version).versions);\n\t\tpopulate_dropdown(\n\t\t\tsub_version_el,\n\t\t\tsubvers.map((x) => [x, x])\n\t\t);\n\n\t\tdisable_modloader();\n\t});\n\n\t// sort field and order\n\tpopulate_dropdown(sort_field_el, SORT_FIELDS, \"Total Downloads\");\n\tpopulate_dropdown(sort_order_el, SORT_ORDERS, \"desc\");\n\n\t/* prefill forms based on query params*/\n\tfunction prefill_forms() {\n\t\tshould_update = false;\n\t\tlet params = new URLSearchParams(window.location.search);\n\n\t\t// prefill search form\n\t\tfor (let control of search_form.elements) {\n\t\t\tif (params.has(control.name)) {\n\t\t\t\tcontrol.value = params.get(control.name);\n\t\t\t\tcontrol.dispatchEvent(new Event(\"change\"));\n\t\t\t}\n\t\t}\n\n\t\t// prefill page selector\n\t\tif (params.has(\"page\")) {\n\t\t\tfor (let page_el of page_els) {\n\t\t\t\tpage_el.value = params.get(\"page\");\n\t\t\t}\n\t\t}\n\n\t\t// prefill visual filters\n\t\tif (params.has(\"filtersInclude\")) {\n\t\t\tlet filters = params.get(\"filtersInclude\").split(\",\");\n\t\t\tfor (let control of filters_el.elements) {\n\t\t\t\tif (filters.includes(control.value)) {\n\t\t\t\t\tcontrol.checked = true;\n\t\t\t\t\tcontrol.dataset.value = \"include\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (params.has(\"filtersExclude\")) {\n\t\t\tlet filters = params.get(\"filtersExclude\").split(\",\");\n\t\t\tfor (let control of filters_el.elements) {\n\t\t\t\tif (filters.includes(control.value)) {\n\t\t\t\t\tcontrol.indeterminate = true;\n\t\t\t\t\tcontrol.checked = true;\n\t\t\t\t\tcontrol.dataset.value = \"exclude\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tshould_update = true;\n\t}\n\n\tprefill_forms();\n\n\t// back + forward history buttons\n\twindow.addEventListener(\"popstate\", function () {\n\t\treset_form();\n\t\tprefill_forms();\n\t\tupdate_results(\"popstate\");\n\t});\n\n\t/* override step validation for page size in search form*/\n\t// based on https://stackoverflow.com/a/51585161\n\tpage_size_el.addEventListener(\"invalid\", function (event) {\n\t\tlet el = event.target;\n\t\tfor (let state in el.validity) {\n\t\t\tif (state == \"stepMismatch\") {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (el.validity[state]) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tevent.preventDefault();\n\t\treset_page();\n\t\tupdate_results(\"control_change\");\n\t});\n\t/* reset page numbering when query changes*/\n\tfunction reset_page() {\n\t\tpage = 0;\n\t\tfor (let el of page_els) {\n\t\t\tel.value = 0;\n\t\t}\n\t}\n\n\t/* reset form*/\n\tfunction reset_form() {\n\t\tfor (let control of search_form.elements) {\n\t\t\tif (control.dataset.default !== undefined) {\n\t\t\t\tcontrol.value = control.dataset.default;\n\t\t\t} else if (control.type === \"text\") {\n\t\t\t\tcontrol.value = \"\";\n\t\t\t}\n\t\t}\n\n\t\tfor (let control of filters_el.elements) {\n\t\t\tcontrol.dataset.value = \"off\";\n\t\t\tcontrol.checked = false;\n\t\t\tcontrol.indeterminate = false;\n\t\t}\n\n\t\tdisable_modloader();\n\t}\n\n\treset_button.addEventListener(\"click\", function (event) {\n\t\tevent.preventDefault();\n\t\thistory.pushState({}, \"\", window.location.pathname);\n\t\treset_form();\n\t\tupdate_results(\"reset\");\n\t});\n\n\t/* handle form submission */\n\tasync function update_results(event_name) {\n\t\tif (current_ac !== null) {\n\t\t\tcurrent_ac.abort();\n\t\t}\n\t\tlet ac = new AbortController();\n\t\tcurrent_ac = ac;\n\t\tcurrent_updating_event = event_name;\n\n\t\tlet params = new URLSearchParams(new FormData(search_form));\n\n\t\t// update query params if not already set\n\t\tif (![\"default\", \"reset\", \"popstate\"].includes(current_updating_event)) {\n\t\t\tlet params2 = new URLSearchParams(params);\n\n\t\t\t// don't overwrite filters query params\n\t\t\tlet [include, exclude] = get_active_filters();\n\t\t\tparams2.set(\"filtersInclude\", include.join(\",\"));\n\t\t\tparams2.set(\"filtersExclude\", exclude.join(\",\"));\n\t\t\tif (window.location.search !== \"?\" + params2.toString()) {\n\t\t\t\thistory.pushState({}, \"\", \"?\" + params2.toString());\n\t\t\t}\n\t\t}\n\n\t\tparams.append(\"gameId\", GAME_ID);\n\n\t\t// work-around for curseforge API being bad\n\t\tif (params.get(\"gameVersion\") && params.get(\"modLoaderType\") === \"0\") {\n\t\t\tparams.delete(\"modLoaderType\");\n\t\t}\n\n\t\tloading_indicator.hidden = false;\n\t\tresults_el.innerHTML = \"\";\n\n\t\tsearch_results = [];\n\n\t\t// since CF API only lets us fetch 50 at a time,\n\t\t// this horrible code splits the desired pageSize into multiple requests\n\t\tlet queries = [];\n\t\tlet page_size = parseInt(params.get(\"pageSize\"), 10);\n\n\t\tfor (let offset = 0; offset < page_size; offset += 50) {\n\t\t\tlet real_page_size = Math.min(50, page_size - offset);\n\t\t\tlet params2 = new URLSearchParams(params);\n\n\t\t\t// index is the index of the first item to include in the response\n\t\t\tlet index = page_size * page + offset;\n\n\t\t\tparams2.set(\"index\", index);\n\t\t\tparams2.set(\"pageSize\", real_page_size);\n\n\t\t\tqueries.push(cf_api(\"/v1/mods/search\", params2, { signal: ac.signal }));\n\t\t}\n\t\ttry {\n\t\t\t// await each query sequentially to ensure result elements are properly ordered\n\t\t\tlet query_results = [];\n\t\t\tfor (let query of queries) {\n\t\t\t\tlet query_result = await query;\n\t\t\t\tconsole.log(query_result);\n\t\t\t\tpopulate_results(query_result);\n\t\t\t\tquery_results.push(query_result);\n\t\t\t}\n\t\t\tsearch_results = query_results.flat();\n\n\t\t\tloading_indicator.hidden = true;\n\n\t\t\tcurrent_ac = null;\n\t\t\tcurrent_updating_event = null;\n\t\t} catch (e) {\n\t\t\tif (e.name !== \"AbortError\") {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction populate_results(results) {\n\t\tlet [include, exclude] = get_active_filters();\n\t\tresults = filter_results(results, include, exclude);\n\n\t\tlet fragment = document.createDocumentFragment();\n\t\tfor (let result of results) {\n\t\t\tlet li = document.createElement(\"li\");\n\t\t\tli.className = \"result\";\n\n\t\t\t//title\n\t\t\tlet title = document.createElement(\"a\");\n\t\t\ttitle.className = \"result-title\";\n\t\t\ttitle.href = result.links.websiteUrl;\n\t\t\ttitle.textContent = result.name;\n\n\t\t\t// subtitle\n\t\t\tlet secondary = document.createElement(\"div\");\n\t\t\tsecondary.className = \"result-secondary\";\n\t\t\tlet downloads = document.createElement(\"span\");\n\t\t\tdownloads.textContent = `${human_readable(result.downloadCount)} Downloads`;\n\t\t\tlet updated = document.createElement(\"span\");\n\t\t\tupdated.textContent = `Updated ${new Date(result.dateModified).toLocaleDateString()}`;\n\t\t\tlet created = document.createElement(\"span\");\n\t\t\tcreated.textContent = `Created ${new Date(result.dateCreated).toLocaleDateString()}`;\n\t\t\tsecondary.append(downloads, updated, created);\n\n\t\t\t// summary\n\t\t\tlet summary = document.createElement(\"p\");\n\t\t\tsummary.className = \"result-summary\";\n\t\t\tsummary.textContent = result.summary;\n\n\t\t\t// category images\n\t\t\tlet categories = document.createElement(\"div\");\n\t\t\tcategories.className = \"result-categories\";\n\t\t\tfor (let category of result.categories) {\n\t\t\t\t// TODO change link to change form param instead\n\t\t\t\tlet el = document.createElement(\"a\");\n\t\t\t\tel.href = category.url;\n\n\t\t\t\tlet img = document.createElement(\"img\");\n\t\t\t\timg.className = \"result-category-image\";\n\t\t\t\timg.src = category.iconUrl;\n\t\t\t\timg.title = category.name;\n\n\t\t\t\tel.appendChild(img);\n\t\t\t\tcategories.appendChild(el);\n\t\t\t}\n\n\t\t\t//logo\n\t\t\tlet logo = document.createElement(\"img\");\n\t\t\tlogo.className = \"result-logo\";\n\t\t\tif (result.logo) {\n\t\t\t\tlogo.src = result.logo.thumbnailUrl;\n\t\t\t}\n\t\t\tlogo.alt = \"\";\n\n\t\t\tli.append(logo, categories, title, secondary, summary);\n\t\t\tfragment.append(li);\n\t\t}\n\t\tresults_el.appendChild(fragment);\n\t}\n\n\t// update results if form is submitted\n\tsearch_form.addEventListener(\"submit\", function (event) {\n\t\tevent.preventDefault();\n\n\t\tif (current_updating_event !== \"control_change\") {\n\t\t\treset_page();\n\t\t\tupdate_results(\"form_submit\");\n\t\t}\n\t});\n\n\t// update results when page changes\n\tfor (let page_el of page_els) {\n\t\tpage_el.addEventListener(\"change\", function (event) {\n\t\t\tpage = parseInt(event.target.value, 10);\n\n\t\t\tfor (let page_el2 of page_els) {\n\t\t\t\tpage_el2.value = page;\n\t\t\t}\n\n\t\t\tlet params = new URLSearchParams(window.location.search);\n\t\t\tparams.set(\"page\", page);\n\t\t\thistory.pushState({}, \"\", \"?\" + params);\n\n\t\t\tupdate_results(\"page_change\");\n\t\t});\n\t}\n\n\t// update results when dropdowns are changed\n\tfor (let control of search_form.elements) {\n\t\tif (control.type !== \"submit\") {\n\t\t\tcontrol.addEventListener(\"change\", function (event) {\n\t\t\t\tif (event.target.form.reportValidity() && should_update) {\n\t\t\t\t\treset_page();\n\t\t\t\t\tupdate_results(\"control_change\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t// fetch default results\n\tupdate_results(\"default\");\n\n\t// allow \"change\" events to call update_results\n\tshould_update = true;\n})();\n"],"names":["GAME_ID","MODLOADERS","map","v","i","SORT_FIELDS","SORT_ORDERS","search_results","by_id","document","getElementById","bind","search_form","classes_el","categories_el","modloader_el","version_el","sub_version_el","sort_field_el","sort_order_el","results_el","page_size_el","page_els","getElementsByClassName","loading_indicator","reset_button","filters_el","page","should_update","current_ac","current_updating_event","group_by","xs","key","reduce","rv","x","push","format_categories","array","class_id","subcategories","top_level","sort","a","b","name","localeCompare","undefined","numeric","id","subcategory","Object","entries","parseInt","forEach","findIndex","splice","async","cf_api","endpoint","params","additional_args","URLSearchParams","startsWith","slice","fetch","headers","accept","then","resp","json","data","populate_dropdown","dropdown","values","defaultValue","innerHTML","fragment","createDocumentFragment","value","option","createElement","textContent","appendChild","defaultOption","selected","dataset","default","prepend","Array","from","options","find","dispatchEvent","Event","get_active_filters","filters","elements","filter","checked","include","exclude","pass","fail","e","idx","arr","partition","classes","categories","versions","sub_versions","cache_time","localStorage","getItem","now","Date","result","Promise","all","gameId","brokenClasses","includes","class_","brokenModCategories","fetch_categories","sort_vers","fetch_vers","setItem","JSON","stringify","parse","disable_modloader","title","disabled","update_modloader","prefill_forms","window","location","search","control","has","get","page_el","split","indeterminate","reset_page","el","reset_form","type","update_results","event_name","abort","ac","AbortController","FormData","params2","set","join","toString","history","pushState","append","delete","hidden","queries","page_size","offset","real_page_size","Math","min","index","signal","query_results","query","query_result","console","log","populate_results","flat","results","length","every","category","filter_results","li","className","href","links","websiteUrl","secondary","downloads","number","downloadCount","toFixed","updated","dateModified","toLocaleDateString","created","dateCreated","summary","url","img","src","iconUrl","logo","thumbnailUrl","alt","addEventListener","categories2","checkbox","event","target","setTimeout","label","createTextNode","populate_filters","version","val","subvers","endsWith","sort_subvers","state","validity","preventDefault","pathname","page_el2","form","reportValidity"],"sourceRoot":""}